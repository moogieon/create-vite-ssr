"use strict";
// Suppress Rollup warnings `Generated an empty chunk: "index.page.server"`
Object.defineProperty(exports, "__esModule", { value: true });
exports.suppressRollupWarning = void 0;
function suppressRollupWarning() {
    return {
        name: 'vite-plugin-ssr:suppressRollupWarning',
        apply: 'build',
        enforce: 'post',
        async configResolved(config) {
            const onWarnOriginal = config.build.rollupOptions.onwarn;
            config.build.rollupOptions.onwarn = function (warning, warn) {
                // Suppress
                if (warning.code === 'EMPTY_BUNDLE')
                    return;
                // Pass through
                if (onWarnOriginal) {
                    onWarnOriginal.apply(this, arguments);
                }
                else {
                    warn(warning);
                }
            };
        },
    };
}
exports.suppressRollupWarning = suppressRollupWarning;
